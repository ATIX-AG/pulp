# There are three expected parts to this configuration: The 'os1_credentials' dictionary
# specifies the credentials to use when using OS1 to deploy the instances. The 'pulp_tester'
# dictionary specifies configuration information for the machine that runs the integration
# tests. Currently, the automation team uses Fedora 20 to run the tests, and RHEL7 hangs
#os1_credentials:
#    username: sample_username
#    password: sample_password
#    tenant_id: sample_tenant_id
#    tenant_name: sample_tenant_name
#    auth_url: http://sample_auth_url


# Change these settings to get started. If you want more granularity, edit the
# structure dictionary below.
#
# Specify the repository to add to the instance and install Pulp from.
repository: http://repos.fedorapeople.org/repos/pulp/pulp/beta/2.4

# The Openstack key pair to use. This tells Openstack what public key to authorize
# for the instance default user (usually 'cloud-user' or 'fedora').
keypair_name: sample_keypair_name

# The private key associated with the Openstack key pair.
private_key: path/to/private/key

# The distribution to use for the Pulp server and consumer. 'el6', 'fc20', etc.
distribution: el7

# The size (cpu, RAM, ephemeral disk space) for each instance. See OS1 for other options.
flavor: m1.medium

# The Openstack security group to use. This tells Openstack what network traffic
# is allowed to reach the machine. The default should normally be acceptable.
security_group: pulp

# Path the the cloud config to use when building instances. The default should normally be fine.
cloud_config: cloud-init/cloud-config.txt


# The 'structure' dictionary defines the instances to set up, and their relationships.
# A server instance should be at the root of this structure, and it can have a list of
# child instances. These children can be consumers or, once supported, server nodes.
# Each server node could itself have children.
#
# To simplify the declaration, you can use YAML anchors to define child machines first,
# and specify how these machines relate in the structure.
structure:
    instance_name: demo-el7-pulp-server
    role: server
    # A list of instances that are children to this instance. Currently, only consumers are supported
    children:
        - instance_name: demo-el7-pulp-server
          role: consumer

# The 'pulp_tester' dictionary specifies configuration information for the machine 
# that runs the integration tests. Currently, the automation team uses Fedora 20 to
# run the tests. The tests require Fedora or RHEL7 or greater, and RHEL7 occasionally
# hangs while running the tests.
pulp_tester:
    distribution: fc20
    instance_name: pulp-tester
    hostname: pulp-tester
    role: tester
    # The automated tests expect an operating system name and version
    os_name: Fedora
    os_version: 20
    tests_destination: nosetests.xml

